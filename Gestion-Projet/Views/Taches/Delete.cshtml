@model Gestion_Projet.Models.Tache

@{
    ViewData["Title"] = "Supprimer la tâche";
}

<h1 class="text-danger"><i class="bi bi-exclamation-triangle"></i> Supprimer la tâche</h1>
<hr />

<div class="alert alert-danger">
    <h4><i class="bi bi-exclamation-triangle-fill"></i> Attention !</h4>
    <p>Êtes-vous sûr de vouloir supprimer cette tâche ?</p>
</div>

<div class="card mb-4">
    <div class="card-header bg-danger text-white">
        <h5 class="mb-0">Informations de la tâche à supprimer</h5>
    </div>
    <div class="card-body">
        <dl class="row">
            <dt class="col-sm-3">Titre:</dt>
            <dd class="col-sm-9">@Model.Titre</dd>
            
            <dt class="col-sm-3">Projet:</dt>
            <dd class="col-sm-9">@Model.Projet?.Nom</dd>
            
            <dt class="col-sm-3">Assigné à:</dt>
            <dd class="col-sm-9">@(Model.Membre?.NomComplet ?? "Non assigné")</dd>
            
            <dt class="col-sm-3">Échéance:</dt>
            <dd class="col-sm-9">@(Model.DateEcheance?.ToString("dd/MM/yyyy") ?? "Non définie")</dd>
            
            <dt class="col-sm-3">Priorité:</dt>
            <dd class="col-sm-9">
                <span class="badge bg-@(Model.Priorite == Gestion_Projet.Models.Priorite.Basse ? "success" : 
                                          Model.Priorite == Gestion_Projet.Models.Priorite.Moyenne ? "info" : 
                                          Model.Priorite == Gestion_Projet.Models.Priorite.Haute ? "warning" : "danger")">
                    @Model.Priorite
                </span>
            </dd>
            
            <dt class="col-sm-3">Statut:</dt>
            <dd class="col-sm-9">
                <span class="badge bg-@(Model.Statut == Gestion_Projet.Models.StatutTache.Terminee ? "success" : "primary")">
                    @Model.Statut
                </span>
            </dd>
        </dl>
        
        @if (!string.IsNullOrEmpty(Model.Description))
        {
            <hr />
            <h6>Description:</h6>
            <p>@Model.Description</p>
        }
    </div>
</div>

<form asp-action="Delete">
    <input type="hidden" asp-for="Id" />
    <button type="submit" class="btn btn-danger">
        <i class="bi bi-trash"></i> Confirmer la suppression
    </button>
    <a asp-action="Details" asp-route-id="@Model.Id" class="btn btn-secondary">
        <i class="bi bi-x-circle"></i> Annuler
    </a>
</form>
